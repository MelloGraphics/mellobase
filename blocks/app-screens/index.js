(()=>{"use strict";var e,a={966:()=>{const e=window.wp.blocks,a=window.React,t=window.wp.blockEditor,l=window.wp.components,r=window.wp.i18n,s=JSON.parse('{"UU":"mellobase/app-screens"}');(0,e.registerBlockType)(s.UU,{edit:function({attributes:e,setAttributes:s}){const{images:n=[]}=e||{},o=(e,a)=>{const t=[...n];t[e]={...t[e],...a},s({images:t})},c=(0,t.useBlockProps)({className:"wp-block-mellobase-app-screens","data-namespace":"mellobase/app-screens"});return console.log("App Screens block rendering:",c.className,c["data-namespace"],"Order:",document.querySelectorAll(".block-editor-block-list__block").length),(0,a.createElement)(a.Fragment,null,(0,a.createElement)(t.InspectorControls,null,(0,a.createElement)(l.PanelBody,{title:(0,r.__)("App Screens","app-screens"),initialOpen:!0},n.map(((e,c)=>(0,a.createElement)("div",{key:c,className:"app-screens-image-item",style:{marginBottom:"1em",border:"1px solid #ddd",padding:"1em",borderRadius:"4px"}},(0,a.createElement)(t.MediaUploadCheck,null,(0,a.createElement)(t.MediaUpload,{onSelect:e=>{console.log("Selected media:",e);const a=e.url||e.sizes?.full?.url||e.source_url||"",t=e.alt_text||e.alt||"",l=e.id||0;a?o(c,{id:l,url:a,alt:t}):console.error("No valid URL found for selected media:",e)},allowedTypes:["image"],value:e.id,render:({open:t})=>(0,a.createElement)(a.Fragment,null,e.url&&(0,a.createElement)("div",{className:"app-screens-image-preview",style:{marginBottom:"0.5em"}},(0,a.createElement)("img",{src:e.url,alt:e.alt||"",style:{maxWidth:"100px",maxHeight:"100px",display:"block",marginBottom:"0.5em"}})),(0,a.createElement)(l.Button,{onClick:t,variant:"secondary",style:{marginBottom:"0.5em"}},e.url?(0,r.__)("Replace","app-screens"):(0,r.__)("Select Image","app-screens")))})),e.url&&(0,a.createElement)(l.Button,{isDestructive:!0,variant:"link",onClick:()=>(e=>{const a=n.filter(((a,t)=>t!==e));s({images:a})})(c),style:{marginBottom:"0.5em"}},(0,r.__)("Remove","app-screens")),(0,a.createElement)(l.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,r.__)("Key","app-screens"),value:e.key||"",onChange:e=>o(c,{key:e}),style:{marginTop:"0.5em"},className:"app-screens-key-input"})))),(0,a.createElement)(l.Button,{variant:"primary",onClick:()=>{s({images:[...n,{id:0,url:"",alt:"",key:""}]})}},(0,r.__)("Add Image","app-screens")))),(0,a.createElement)("div",{...c},(0,a.createElement)("div",{className:"wp-block-mellobase-app-screens__screens-wrapper"},n.map(((e,t)=>e.url&&(0,a.createElement)("img",{key:e.key||t,className:"wp-block-mellobase-app-screens__screen","data-key":e.key||"",src:e.url,alt:e.alt||""}))))))},save:function({attributes:e}){const{images:l=[]}=e,r=t.useBlockProps.save();return(0,a.createElement)("div",{...r},(0,a.createElement)("div",{className:"wp-block-mellobase-app-screens__screens-wrapper"},l.map(((e,t)=>e.url&&(0,a.createElement)("img",{key:e.key||t,className:"wp-block-mellobase-app-screens__screen","data-key":e.key||"",src:e.url,alt:e.alt||""})))))}})}},t={};function l(e){var r=t[e];if(void 0!==r)return r.exports;var s=t[e]={exports:{}};return a[e](s,s.exports,l),s.exports}l.m=a,e=[],l.O=(a,t,r,s)=>{if(!t){var n=1/0;for(p=0;p<e.length;p++){for(var[t,r,s]=e[p],o=!0,c=0;c<t.length;c++)(!1&s||n>=s)&&Object.keys(l.O).every((e=>l.O[e](t[c])))?t.splice(c--,1):(o=!1,s<n&&(n=s));if(o){e.splice(p--,1);var i=r();void 0!==i&&(a=i)}}return a}s=s||0;for(var p=e.length;p>0&&e[p-1][2]>s;p--)e[p]=e[p-1];e[p]=[t,r,s]},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={53:0,121:0};l.O.j=a=>0===e[a];var a=(a,t)=>{var r,s,[n,o,c]=t,i=0;if(n.some((a=>0!==e[a]))){for(r in o)l.o(o,r)&&(l.m[r]=o[r]);if(c)var p=c(l)}for(a&&a(t);i<n.length;i++)s=n[i],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return l.O(p)},t=globalThis.webpackChunkmellobase=globalThis.webpackChunkmellobase||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var r=l.O(void 0,[121],(()=>l(966)));r=l.O(r)})();