/**
 * The following styles get applied both on the front of your site
 * and in the editor.
 *
 * Replace them with your own styles or remove the file completely.
 */

@use "src/scss/utils" as *;


.wp-block-mellobase-app-screens {
	height: 100svh;
	align-items: center;
	align-content: center;
	pointer-events: none;
	position: sticky;
	top: 50%;

	@include for-tablet-portrait-up {
		top: 0;
	}

	&__screens-wrapper {
		position: relative;
		aspect-ratio: 9 / 19;
		max-height: 80svh;
		margin: auto;
		background-color: pi$color-base;
		border-radius: 5em;


		&::after {
			content: '';
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			background-image: url('./assets/app-screen-iphone-frame.png');
			background-position: center;
			background-size: contain;
			background-repeat: no-repeat;
			scale: 1.04;
		}
	}

	&__screen {
		width: 94%;
		height: 100%;
		margin: auto;
		inset: 0;
		border-radius: 7%;
		-o-object-fit: contain;
		object-fit: contain;
		object-position: center;
		position: absolute;
		transition: opacity 0.6s $ease-circ, transform 0.6s $ease-circ, visibility 0s linear 0.6s;

		transition-behavior: allow-discrete;

		&.is-inactive {
			opacity: 0;
			visibility: hidden;
		}

		&.is-active {
			opacity: 1;
			visibility: visible;
			transition-delay: 0s; // show instantly
		}
	}
}

.features__scroll-columns {
	position: relative;
	
	.features__bubbles-column {
		margin-bottom: 100svh;
	}

	.features__app-column {
		position: absolute;
		width: 100%;
		z-index: 1;
		inset: 0 0 0 auto;
		pointer-events: none;
	}


	@include for-tablet-portrait-up {
		.features__bubbles-column {
			margin: 20svh 0;
		}

		.features__app-column {
			position: absolute;
			width: 40%;
			z-index: 1;
			inset: 0 0 0 auto;
		}

		.feature-scroll__trigger {
			margin-block-start: 0 !important;
			min-height: 60svh;
			margin: 10svh 0;
			align-content: center;
		}
	}
}