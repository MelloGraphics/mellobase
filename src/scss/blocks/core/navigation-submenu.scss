/* === core-navigation-submenu.scss ===
   Autogenerated split from navigation-submenu.scss
   This file preserves your original submenu/icon rules.
*/


/* --- BEGIN: Your original navigation-submenu.scss content --- */
@use "../../utils" as *;

// navigation item with sub menu

.wp-block-navigation {
	.wp-block-navigation-submenu {

		ul.wp-block-list {
			padding-inline-start: 0;
		}

		.wp-block-navigation__submenu-icon {
			color: $color-secondary;
			width: .75em;
			height: .75em;
		}

		.submenu__columns {
			gap: $spacing-small;
			min-width: 100%;
			margin: auto;
			max-width: $width-content;

			@include for-tablet-portrait-down {
				display: flex;
				flex-direction: column;
				gap: $spacing-medium;
			}
		}

		.submenu__column {
			@include for-tablet-portrait-down {
				display: flex;
				flex-direction: column;
				gap: $spacing-medium;
			}
		}
	}
}

// Styling for hamburger menu

.wp-block-navigation.is-style-mega-menu:has(.is-menu-open) {

	.wp-block-navigation__responsive-container.is-menu-open {
		.wp-block-navigation.wp-block-navigation-submenu {
			flex-direction: column;
			flex-wrap: nowrap;
		}

		.submenu__columns {
			gap: $spacing-large;
		}

		.submenu__column {
			padding-bottom: $spacing-medium;
		}

		.wp-block-navigation-item__content.wp-block-navigation-submenu__toggle {
			flex: 1 0 100%;
			transition: margin .5s $ease-circ;
		}

		.wp-block-navigation__submenu-icon {
			display: flex;
			align-items: center;
			justify-content: center;
			margin-left: -100%;
			rotate: -90deg;
			min-width: 1em;
			min-height: 1em;
			scale: 1.5;
		}

		// When buger menu is open initially hide all sub menus
		.wp-block-navigation-submenu>.wp-block-navigation__submenu-container {
			display: none;
			visibility: hidden;
			padding: 0;
		}

		// When a submenu is toggled open, show contents
		.wp-block-navigation-submenu:has([aria-expanded="true"]) {
			display: grid;
			visibility: visible;
			gap: $spacing-large;

			>.wp-block-navigation-item__content.wp-block-navigation-submenu__toggle {
				grid-column: 1;
				grid-row: 1;
				margin-left: 1em;
			}

			>.wp-block-navigation__submenu-container {
				display: block;
				visibility: visible;
				position: static;
			}

			>.wp-block-navigation__submenu-icon {
				margin: 0;
				grid-column: 1;
				grid-row: 1;
				rotate: 90deg;
			}
		}

		// Hide other menus
		.wp-block-navigation__container:has([aria-expanded="true"]) {

			>.wp-block-navigation-item:not(:has([aria-expanded="true"])) {
				display: none;
				visibility: hidden;
			}

			@include for-tablet-portrait-down {
				~*:not(.wp-block-spacer) {
					display: none;
					visibility: hidden;
				}
			}
		}
	}
}

/* --- END: Your original navigation-submenu.scss content --- */


/* --- Optional scaffold: submenu hooks (no-op by default) --- */
.wp-block-navigation {
	.wp-block-navigation__submenu-icon {
		/* icon hooks */
	}

	.has-child .wp-block-navigation__submenu-container {
		/* flyout container hooks */
	}
}